/* ===============================
   GLOBAL DASHBOARD IMPROVEMENT
================================ */
:root {
    --radius-xl: 20px;
    --radius-lg: 16px;
    --radius-md: 12px;

    --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.06);
    --shadow-hover: 0 18px 40px rgba(0, 0, 0, 0.12);

    --blur-glass: blur(10px);

    --transition-smooth: all 0.35s cubic-bezier(.4,0,.2,1);
}

body {
    background: linear-gradient(180deg, #f6f8fb 0%, #eef2f7 100%);
    color: #2c2f36;
}


/* ===============================
   STATISTIC BOX (SMALL BOX)
================================ */
.small-box {
    border-radius: 18px;
    box-shadow: 0 10px 25px rgba(0,0,0,.08);
    overflow: hidden;
    transition: all .3s ease;
}

.small-box:hover {
    transform: translateY(-6px);
    box-shadow: 0 18px 35px rgba(0,0,0,.15);
}

.small-box h3 {
    font-size: 2.5rem;
    font-weight: 700;
}

.small-box p {
    font-size: .95rem;
    opacity: .9;
}

.small-box-footer {
    font-weight: 500;
}

/* Gradient each card */
.text-bg-primary {
    background: linear-gradient(135deg,#0d6efd,#4e8ef7) !important;
}
.text-bg-danger {
    background: linear-gradient(135deg,#dc3545,#ff6b6b) !important;
}
.text-bg-warning {
    background: linear-gradient(135deg,#f4b400,#fbbc04) !important;
}
.text-bg-success {
    background: linear-gradient(135deg,#198754,#2ecc71) !important;
}

/* ===============================
   CARD GLOBAL
================================ */
.card {
    border-radius: 18px;
    border: none;
    box-shadow: 0 10px 25px rgba(0,0,0,.08);
}

.card-header {
    border-bottom: none;
    background: transparent;
}

/* ===============================
   MAP CARD
================================ */
#map {
    border-radius: 16px;
}

/* ===============================
   WEATHER CARD (override)
================================ */
#weather-card {
    border-radius: 22px;
}

/* ===============================
   SIDEBAR
================================ */
.app-sidebar {
    background: linear-gradient(180deg,#212529,#343a40);
}

.sidebar-menu .nav-link.active {
    background: rgba(255,255,255,.15);
    border-radius: 12px;
}

/* ===============================
   NAVBAR
================================ */
.app-header {
    box-shadow: 0 2px 10px rgba(0,0,0,.08);
}


/* =========================================
   STYLE TAMBAHAN (BASE)
   ========================================= */

/* Pastikan Peta memiliki tinggi di semua layar */
#map {
    width: 100%;
    height: 400px; /* Default height untuk desktop */
    border-radius: 8px;
    z-index: 1; /* Agar tidak menutupi dropdown navbar */
}

/* Style untuk Weather Card agar rapi */
#weather-content {
    min-height: 120px;
}

/* =========================================
   MEDIA QUERIES (RESPONSIVE)
   ========================================= */

/* --- 1. Tablet & Mobile Landscape (max-width: 991px) --- */
@media (max-width: 991px) {
    /* Penyesuaian Header Dashboard */
    .app-content-header .row {
        text-align: center;
        gap: 10px;
    }
    
    .app-content-header .breadcrumb {
        justify-content: center;
        float: none !important;
    }

    /* Sidebar otomatis sembunyi (handled by AdminLTE JS), 
       tapi kita pastikan overlay-nya bagus */
    .sidebar-overlay {
        background-color: rgba(0, 0, 0, 0.5);
    }
}

/* --- 2. Mobile Portrait (max-width: 768px) --- */
@media (max-width: 768px) {
    /* --- Navbar --- */
    .app-header .navbar-nav .nav-link {
        padding: 0.5rem 0.8rem; /* Kurangi padding icon navbar */
    }

    /* Sembunyikan nama user, sisakan foto saja (sudah ada d-none d-md-inline di HTML, 
       ini untuk memastikan margin rapi) */
    .user-menu .user-image {
        margin-right: 0;
        width: 30px;
        height: 30px;
    }

    /* --- Small Boxes (Widget Statistik) --- */
    .small-box {
        text-align: center;
        min-height: 120px; /* Tinggi minimal agar seragam */
    }

    .small-box .inner {
        padding: 10px;
    }

    .small-box h3 {
        font-size: 1.5rem; /* Perkecil angka statistik */
        font-weight: 700;
    }

    .small-box p {
        font-size: 0.85rem; /* Perkecil label */
        margin-bottom: 20px; /* Beri jarak agar tidak tertutup link */
    }

    /* Ikon background di widget */
    .small-box .small-box-icon {
        display: none; /* Opsi A: Sembunyikan ikon di HP agar text terbaca jelas */
        /* ATAU Opsi B: Gunakan style di bawah ini jika ingin ikon tetap ada tapi transparan */
        /* font-size: 3rem !important;
        top: 5px !important;
        right: 5px !important;
        opacity: 0.2 !important;
        */
    }

    .small-box-footer {
        padding: 5px;
        font-size: 0.8rem;
    }

    /* --- Peta & Weather --- */
    #map {
        height: 300px; /* Kurangi tinggi peta di HP */
    }

    #weather-card .card-body {
        padding: 1rem;
    }

    #weather-icon img {
        width: 60px; /* Perkecil ikon cuaca */
    }

    #weather-info h4 {
        font-size: 1.1rem;
    }
}

/* ==============================
   GLOBAL
============================== */
body {
    font-family: "Source Sans 3", system-ui, -apple-system, sans-serif;
}

.app-wrapper {
    background: #f4f6f9;
}

/* ==============================
   NAVBAR
============================== */
.app-header {
    border-bottom: 1px solid rgba(0,0,0,.05);
    backdrop-filter: blur(6px);
}

.app-header .nav-link {
    font-weight: 500;
}

/* ==============================
   SIDEBAR
============================== */
.app-sidebar {
    border-radius: 0 18px 18px 0;
}

.sidebar-brand {
    padding: 1rem;
}

.brand-link {
    display: flex;
    align-items: center;
    gap: 10px;
}

.brand-image {
    border-radius: 12px;
}

.sidebar-menu .nav-link {
    border-radius: 12px;
    margin: 4px 10px;
    transition: all .25s ease;
}

.sidebar-menu .nav-link:hover {
    background: rgba(255,255,255,.08);
    transform: translateX(4px);
}

.sidebar-menu .nav-link.active {
    background: linear-gradient(135deg, #0d6efd, #0dcaf0);
    color: #fff;
    box-shadow: 0 6px 18px rgba(13,110,253,.35);
}

.sidebar-menu .nav-icon {
    font-size: 1.2rem;
}

/* --- 3. Mobile Kecil (max-width: 480px) --- */
@media (max-width: 480px) {
    /* Paksa kolom widget menjadi 1 baris (full width) jika layar sangat sempit */
    /* Secara default bootstrap col-6 akan membuatnya 2 kolom. 
       Jika ingin 1 kolom ke bawah, uncomment kode di bawah ini: */
    
    /* .col-6 {
        width: 100%; 
        flex: 0 0 auto;
    } 
    */

    /* Footer Aplikasi */
    .app-footer {
        text-align: center;
        font-size: 0.8rem;
    }
    
    .app-footer .float-end {
        display: none !important; /* Sembunyikan teks kanan footer */
    }
}